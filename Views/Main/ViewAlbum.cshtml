@model svema.Data.Album
@{Layout = "_Layout";}
<script>

    function addComment() {
        alert();
    }

</script>
<table width="100%" height="100%" spacing="0" padding="0" border="0">
    <tr>
        <td class="left">
            Name:@ViewBag.album.Name<br/><br/>
            <a href="upload_shots?id=@ViewBag.albumId">Upload Shots</a><br><br>
            Locations:<br/>
            @if (@ViewBag.Locations != null) {
                <table style="margin:10px">
                @foreach(var location in @ViewBag.locations) {
                    <tr>
                        <td>@location.Location.Name</td>
                        <td>
                            <a href="/album_location_delete?albumLocationId=@location.Id">Delete</a>&nbsp;
                            <a href="/album_location_view?albumLocationId=@location.Id">View</a>
                        </td>
                    </tr>
                }
                </table>
            }
            <a href="add_location?albumId=@ViewBag.albumId">Add Location</a><br/><br/>
            Date:<br>
            @if (@Model.DateFrom != default(DateTime)) {              
                @Model.DateFrom.ToString(@Model.DatePrecision)  
            }
            <a href="/set_album_date?albumId=@Model.AlbumId">Set Date</a><br><br>
            Comments:<br/>
            @if (@Model.AlbumComments != null) {
                <table style="margin:10px">
                @foreach(var comment in @Model.AlbumComments) {
                    <tr>
                        <td>@comment.Author</td>
                        <td>@comment.Text</td>
                    </tr>
                }
                </table>
            }
            <form action="add_comment" method="post">
                <input type="hidden" id="id" value="@Model.AlbumId" name="id">
                <textarea style="width:100%;margin:10px;background:#f7f7ee" rows=4 id="text" name="text"></textarea>
                <input value="Add Comment" type="submit">
            </form>
        </td>
        <td class="right">
        @foreach(var shot in @ViewBag.shots)  {
            <table style="display:inline;margin-right:30px;margin-bottom:30px" border="0">
                <tr>
                    <td><a href="/view_shot?id=@shot.ShotId"><img width=200 height=200 src="/preview?id=@shot.ShotId"></a></td>
                </tr>
                <tr><td>@shot.Name</td></tr>
                <tr><td style="font-size:small">
                    <a href="/view_shot?id=@shot.ShotId">View</a>&nbsp;
                    <a href="/edit_shot?id=@shot.ShotId">Edit</a>&nbsp;
                    <a href="/delete_shot?id=@shot.ShotId">Delete</a>
                </td></tr>
                <tr><td>&nbsp;</td></tr>                
            </table>
        }
        </td>        
    </tr>
</table>